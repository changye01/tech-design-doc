---
name: tech-design-doc
description: 技术设计文档生成工具。用于：(1) 新功能开发前的方案设计 (2) 通过引导式提问生成完整设计文档 (3) 输出 Markdown 格式。当用户说"写设计文档"、"TDD"、"技术方案"时触发。
---

# 技术设计文档生成器

## 工作流程

1. **了解背景** - 询问要解决什么问题、目标用户、预期收益
2. **设计方案** - 引导设计架构、技术选型、核心流程
3. **定义接口** - 确定 API 接口、数据结构、错误处理
4. **规划实现** - 拆分里程碑和任务、标注风险依赖
5. **生成文档** - 基于模板输出完整 Markdown 文档

## 引导问题清单

### 背景章节
- 你要解决什么问题？当前的痛点是什么？
- 目标用户是谁？
- 成功的标准是什么？

### 方案设计章节
- 整体架构是怎样的？涉及哪些模块？
- 核心流程是什么？
- 为什么选择这个技术方案？有哪些备选？

### 接口定义章节
- 需要哪些 API 接口？
- 数据结构是怎样的？
- 如何处理错误情况？

### 实现计划章节
- 可以分成哪几个里程碑？
- 每个任务大概需要多长时间？
- 有什么风险或依赖？

## 资源

- **写作指南**: 各章节详细写作要点见 `references/writing-guide.md`
- **自检清单**: 完成后用 `references/checklist.md` 检查
- **文档模板**: 使用 `assets/template.md` 作为基础
- **完整示例**: 参考 `assets/example.md` 了解实际写法

## 验证

生成文档后，运行验证脚本检查完整性：

```bash
python scripts/validate_doc.py <文档路径>
```

如果提示缺少章节，根据提示补充。
